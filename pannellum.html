<!DOCTYPE HTML>
<!-- Pannellum 2.4.0, https://github.com/mpetroff/pannellum -->
<html>

<head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="pannellum/pannellum.css">
    <link rel="stylesheet" type="text/css" href="scss/main.css">
    <script src="pannellum/pannellum.js"></script>
    <title>Pannellum</title>
</head>

<body>
    <div class="pannellum-wrapper">
        <div id="panorama"></div>
    </div>

    <script>
        pannellum.viewer('panorama', {
            "autoLoad": true,
            "default": {
                "firstScene": "activityCenter", // 預設場景
                "sceneFadeDuration": 1000 // 縮放轉場時間
            },
            "scenes": {
                "activityCenter": {
                    "title": "活動中心-向心鳥巢",
                    "hfov": 180,
                    "yaw": 5,
                    "type": "equirectangular",
                    "panorama": "images/pano-1.jpg",
                    "hotSpots": [
                        {
                            "pitch": -1,
                            "yaw": 37,
                            "type": "scene",
                            "text": "天聖宮<br>祈福鳥巢",
                            "sceneId": "TSTemple",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": 0,
                            "yaw": 240,
                            "cssClass": "custom-hotspot paint-ani-1",
                            "createTooltipFunc": hotspot,
                            "createTooltipArgs": "向心鳥巢"
                        }
                    ]
                },
                "TSTemple": {
                    "title": "天聖宮-祈福鳥巢",
                    "hfov": 110,
                    "yaw": 5,
                    "type": "equirectangular",
                    "panorama": "images/pano-2.jpg",
                    "hotSpots": [
                        {
                            "pitch": 5,
                            "yaw": 155,
                            "type": "scene",
                            "text": "活動中心<br>向心鳥巢",
                            "sceneId": "activityCenter",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": 5,
                            "yaw": 105,
                            "type": "scene",
                            "text": "賞鳥生態導覽步道<br>尋覓鳥巢",
                            "sceneId": "bird",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": 0,
                            "yaw": 120,
                            "cssClass": "custom-hotspot paint-ani-2",
                            "createTooltipFunc": hotspot,
                            "createTooltipArgs": "祈福鳥巢"
                        }
                    ]
                },
                "bird": {
                    "title": "賞鳥生態導覽步道-尋覓鳥巢",
                    "hfov": 110,
                    "yaw": 5,
                    "type": "equirectangular",
                    "panorama": "images/pano-3.jpg",
                    "hotSpots": [
                        {
                            "pitch": 5,
                            "yaw": 105,
                            "type": "scene",
                            "text": "天聖宮<br>祈福鳥巢",
                            "sceneId": "TSTemple",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": 5,
                            "yaw": 75,
                            "type": "scene",
                            "text": "湖本生態合作社<br>生態鳥巢",
                            "sceneId": "nest",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": -10,
                            "yaw": 150,
                            "cssClass": "custom-hotspot paint-ani-3",
                            "createTooltipFunc": hotspot,
                            "createTooltipArgs": "尋覓鳥巢"
                        }
                    ]
                },
                "nest": {
                    "title": "湖本生態合作社-歡樂鳥巢",
                    "author": "Hico",
                    "hfov": 110,
                    "pitch": -3,
                    "yaw": 117,
                    "type": "equirectangular",
                    "panorama": "images/pano-4.jpg",
                    "compass": true, // 指北針
                    "northOffset": 200, // 正北方向
                    "hotSpots": [
                        // {
                        //     "pitch": -20,
                        //     "yaw": 0,
                        //     "cssClass": "custom-hotspot custom-hotspot-nest",
                        //     "createTooltipFunc": hotspot,
                        //     "createTooltipArgs": "我在發芽"
                        // }, 
                        {
                            "pitch": -1,
                            "yaw": 37,
                            "type": "scene",
                            "text": "賞鳥生態導覽步道<br>尋覓鳥巢",
                            "sceneId": "bird",
                            "targetYaw": -23,
                            "targetPitch": 2
                        }, {
                            "pitch": -10,
                            "yaw": 0,
                            "cssClass": "custom-hotspot paint-ani-4",
                            "createTooltipFunc": hotspot,
                            "createTooltipArgs": "歡樂鳥巢"
                        }
                    ],
                },
            }
        });
        function hotspot(hotSpotDiv, args) {
            hotSpotDiv.classList.add('custom-tooltip');
            var span = document.createElement('span');
            span.innerHTML = args;
            hotSpotDiv.appendChild(span);
            span.style.width = span.scrollWidth - 20 + 'px';
            span.style.marginLeft = -(span.scrollWidth - hotSpotDiv.offsetWidth) / 2 + 'px';
            span.style.marginTop = -span.scrollHeight - 12 + 'px';
        }
    </script>

</body>

</html>